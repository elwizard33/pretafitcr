---
import { Image } from 'astro:assets';
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import CountdownTimer from "../components/CountdownTimer.astro";

// Import large images for optimization
import logoVillaTanya from '../../public/images/logo-villa-tanya.png';
import logoJacolife from '../../public/images/logo-jacolife.png';
import logoDukurfit from '../../public/images/logo-dukurfit.png';
import logoTheKingsBox from '../../public/images/logo-the-kings-box.png';

// Import additional images for optimization
import logoWodWarriors from '../../public/images/logo-wodwarriors.jpeg';
import logoPretafit from '../../public/images/logo-pretafit.jpeg';
import logoBoxParrita from '../../public/images/logo-box-parrita.png';
import reglamentoPrincipiante from '../../public/images/reglas-principiante.jpeg';
import reglamentoIntermedio from '../../public/images/reglas-intermedio.jpeg';
import bloqueFuerza from '../../public/images/bloque-fuerza.jpeg';
import logoMarySol from '../../public/images/logo-marysol.jpeg';
import logoHolalola from '../../public/images/logo-holalola.jpeg';
import logoFarmaciaPlayaHermosa from '../../public/images/logo-farmacia-playa-hermosa.png';
import logoSurfInnHermosa from '../../public/images/logo-surf-inn-hermosa.jpg';
import logoVistaLosSuenos from '../../public/images/logo-vista-los-suenos.png';
import logoTropicalIceBaths from '../../public/images/logo-tropical-ice-baths.jpg';
import logoNutricionistaFiorella from '../../public/images/logo-nutricionista-fiorella.jpeg';
---

<BaseLayout
  title="WOD Warriors | Evento"
  description="WOD Warriors: Competencia de CrossFit (Principiante & Intermedio), exhibici√≥n BJJ, m√∫sica y sponsors en Jac√≥."
>
  <Fragment slot="header"><Header /></Fragment>

  <!-- ================= HERO ================= -->
  <section class="hero hero-event">
    <div class="container hero-card">
      <div class="hero-media card">
        <Image 
          src={logoWodWarriors}
          alt="Logo WOD Warriors" 
          width={400}
          height={300}
          quality={80}
          format="webp"
          loading="eager"
        />
        <div class="hero-overlay">
          <div class="hero-bubble">
            <div class="h1">WOD WARRIORS<br />COMPETENCIA & COMUNIDAD</div>
            <div class="subtle">
              Competencia de CrossFit (principiante & intermedio) con exhibici√≥n
              de BJJ por <b>Vanessa Vargas</b> (2¬™ cinta negra del pa√≠s), m√∫sica
              en vivo, comida y venta de productos locales.
            </div>
            <div class="hero-actions"></div>
          </div>
        </div>
      </div>

      <!-- countdown timer - MOVED TO TOP -->
      <div class="mt-5">
        <CountdownTimer 
          title="Tiempo restante para el evento"
          subtitle="‚ö° NO TE LO PIERDAS ‚ö°"
          targetDay="friday"
          targetHour={19}
          timezone="America/Costa_Rica"
          eventMessage="¬°El evento ya comenz√≥! üéâ"
        />
      </div>

      <!-- mini features -->
      <div class="feature-row">
        <div class="feature">
          <div class="badge-ico">
            <svg width="18" height="18" viewBox="0 0 24 24"
              ><path
                fill="#ff6a2a"
                d="M12 3a6 6 0 0 0-6 6c0 6 6 12 6 12s6-6 6-12a6 6 0 0 0-6-6z"
              ></path></svg>
          </div>
          <div><b>5 Sept 2025</b></div>
        </div>
        <div class="feature">
          <div class="badge-ico">
            <svg width="18" height="18" viewBox="0 0 24 24"
              ><path fill="#ff6a2a" d="M12 6v6l4 2-1.5 2.6L9 14V6h3z"
              ></path></svg>
          </div>
          <div><b>7:00 PM</b></div>
        </div>
        <div class="feature">
          <div class="badge-ico">
            <svg width="18" height="18" viewBox="0 0 24 24"
              ><path
                fill="#ff6a2a"
                d="M12 2C8.1 2 5 5.1 5 9c0 5.3 7 13 7 13s7-7.7 7-13c0-3.9-3.1-7-7-7Zm0 9.5c-1.4 0-2.5-1.1-2.5-2.5S10.6 6.5 12 6.5s2.5 1.1 2.5 2.5S13.4 11.5 12 11.5Z"
              ></path></svg>
          </div>
          <div><b>Preta Fit Jac√≥, CR</b></div>
        </div>
      </div>

      <!-- event info -->
      <div class="logo-strip">
        <div class="box">2 Categor√≠as</div>
        <div class="box">16 Atletas</div>
        <div class="box">4 Boxes</div>
        <div class="box">Exhibici√≥n BJJ</div>
        <div class="box">Puestos Venta</div>
        <div class="box">Comidas</div>
      </div>
    </div>
  </section>

  <!-- ================= BOXES PARTICIPANTES ================= -->
  <section id="boxes" class="section">
    <div class="container">
      <div class="overline">Comunidad</div>
      <h2 class="h2">Boxes Participantes</h2>
      <div class="small mb-3">
        Boxes que aportan atletas y energ√≠a al evento.
      </div>
      <div class="boxes-grid grid-auto-fit-sm">
        <a
          class="card member no-decoration"
          href="https://www.instagram.com/pretafitjaco/"
          target="_blank"
          rel="noopener"
        >
          <div class="thumb">
            <Image 
              src={logoPretafit}
              alt="Preta Fit Jac√≥" 
              width={200}
              height={150}
              quality={75}
              format="webp"
              loading="lazy"
            />
          </div>
          <div class="info">
            <b>Preta Fit Jac√≥</b><div class="small">@pretafitjaco</div>
          </div>
        </a>
        <a
          class="card member no-decoration"
          href="https://www.instagram.com/box_parrita/"
          target="_blank"
          rel="noopener"
        >
          <div class="thumb">
            <Image 
              src={logoBoxParrita}
              alt="Box Parrita" 
              width={200}
              height={150}
              quality={75}
              format="webp"
              loading="lazy"
            />
          </div>
          <div class="info">
            <b>Box Parrita</b><div class="small">@box_parrita</div>
          </div>
        </a>
        <a
          class="card member no-decoration"
          href="https://www.instagram.com/dukurfit/"
          target="_blank"
          rel="noopener"
        >
          <div class="thumb">
            <Image 
              src={logoDukurfit}
              alt="DukurFit - Centro de entrenamiento funcional"
              width={200}
              height={150}
              quality={75}
              format="webp"
              loading="lazy"
            />
          </div>
          <div class="info">
            <b>DukurFit</b><div class="small">@dukurfit</div>
          </div>
        </a>
        <a
          class="card member no-decoration"
          href="https://www.instagram.com/the_kings_box_gym/"
          target="_blank"
          rel="noopener"
        >
          <div class="thumb">
            <Image 
              src={logoTheKingsBox}
              alt="The Kings Box Gym - Gimnasio especializado en CrossFit"
              width={200}
              height={150}
              quality={75}
              format="webp"
              loading="lazy"
            />
          </div>
          <div class="info">
            <b>The Kings Box Gym</b><div class="small">@the_kings_box_gym</div>
          </div>
        </a>
      </div>
    </div>
  </section>

  <!-- ================= COMPETITION FORMAT ================= -->
  <section id="categories" class="section">
    <div class="container">
      <div class="overline">Competencia</div>
      <h2 class="h2">Formato de la Competencia</h2>
      <div class="small competition-intro">
        Dos categor√≠as enfrentando tres pruebas progresivas que pondr√°n a prueba diferentes aspectos de tu fitness.
      </div>
      
      <!-- HIT 1 - Side by Side Categories -->
      <div class="competition-section-spacing">
        <div class="competition-header">
          <div class="hit-number">1</div>
          <h3 class="hit-title">Primer Hit - Acondicionamiento</h3>
          <p class="small competition-description">
            Prueba de resistencia cardiovascular y muscular con movimientos funcionales adaptados a cada categor√≠a.
          </p>
        </div>
        
        <div class="category-grid">
          <!-- Principiante HIT 1 -->
          <div class="card category-card">
            <div class="category-header">
              <h4 class="category-title">Principiante</h4>
            </div>
            
            <figure
              class="rule-figure"
              data-full="/images/reglas-principiante.jpeg"
            >
              <Image
                src={reglamentoPrincipiante}
                alt="HIT 1 Principiante - Reglas de competencia CrossFit para nivel principiante"
                class="rule-image"
                width={600}
                height={800}
                quality={80}
                format="webp"
                loading="lazy"
              />
              <figcaption class="small rule-caption">
                Hit 1: Principiante
              </figcaption>
            </figure>
          </div>

          <!-- Intermedio HIT 1 -->
          <div class="card category-card">
            <div class="category-header">
              <h4 class="category-title">Intermedio</h4>
            </div>
            
            <figure
              class="rule-figure"
              data-full="/images/reglas-intermedio.jpeg"
            >
              <Image
                src={reglamentoIntermedio}
                alt="HIT 1 Intermedio - Reglas de competencia CrossFit para nivel intermedio"
                class="rule-image"
                width={600}
                height={800}
                quality={80}
                format="webp"
                loading="lazy"
              />
              <figcaption class="small rule-caption">
                Hit 1: Intermedio
              </figcaption>
            </figure>
          </div>
        </div>
      </div>

      <!-- HIT 2 - Shared Big Section -->
      <div class="competition-section-spacing">
        <div class="competition-header">
          <div class="hit-number">2</div>
          <h3 class="hit-title">Segundo Hit - Bloque de Fuerza</h3>
          <p class="small competition-description">
            Levantamientos pesados para ambas categor√≠as. Mismos movimientos, cargas adaptadas a cada nivel de experiencia.
          </p>
        </div>
        
        <div class="shared-block">
          <figure
            class="shared-figure"
            data-full="/images/bloque-fuerza.jpeg"
          >
            <Image
              src={bloqueFuerza}
              alt="Bloque de Fuerza - Ambas Categor√≠as - Levantamientos pesados CrossFit"
              class="shared-image"
              width={600}
              height={800}
              quality={80}
              format="webp"
              loading="lazy"
            />
            <figcaption class="small shared-caption">
              Bloque de Fuerza: Ambas Categor√≠as
            </figcaption>
          </figure>
        </div>
      </div>

      <!-- HIT 3 - Shared Mystery Section -->
      <div class="competition-section-spacing mb-60">
        <div class="competition-header">
          <div class="hit-number">3</div>
          <h3 class="hit-title">Tercer Hit - Sorpresa Final</h3>
          <p class="small competition-description mb-4">
            La prueba definitiva que coronar√° a los campeones. Una sorpresa especial dise√±ada para poner a prueba todo lo que has entrenado.
          </p>
        </div>
        
        <div class="gradient-card padding-32 border-radius-16 border-light text-center">
          <div class="relative z-1">
            <h4 class="my-0 mb-12 text-xl text-brand">REVELACI√ìN EL D√çA DE LA COMPETENCIA</h4>
            <p class="text-gray-500 max-w-500 m-auto-mb-16">
              Una prueba especial que desafiar√° a ambas categor√≠as por igual. Mantente preparado para cualquier cosa: podr√≠as necesitar todo tu arsenal de habilidades.
            </p>
          </div>
        </div>
      </div>
      
  <!-- ================= COMPETITORS (add full static lists) ================= -->
  <section id="competidores" class="section">
    <div class="container">
      <div class="overline">Competidores</div>
      <h2 class="h2 text-3xl">Atletas Registrados</h2>
      <div class="small mb-4 text-2xs">
        Atletas representando a Preta Fit, Box Parrita, DukurFit, The Kings Box
        Gym y otros independientes.
      </div>
      <div
        class="cards-nav"
        role="tablist"
        aria-label="Filtrar categor√≠as de competidores"
      >
        <button class="active" data-comp="all" role="tab">Todos</button>
        <button data-comp="pf" role="tab">Principiante F</button>
        <button data-comp="pm" role="tab">Principiante M</button>
        <button data-comp="if" role="tab">Intermedio F</button>
        <button data-comp="im" role="tab">Intermedio M</button>
      </div>
      <div id="competitorCards" class="grid-gap-14">
        <div class="card comp-card padding-18" data-group="pf">
          <h3 class="comp-header">
            Principiante Femenino
          </h3>
          <ul class="comp-list">
          >
            <li>
              <strong>Shirley</strong>
              <span class="small">(Parrita)</span>
            </li>
            <li>
              <strong>Stella</strong>
              <span class="small">(Preta Fit)</span>
            </li>
            <li>
              <strong>Mariana</strong>
              <span class="small">(Preta Fit)</span>
            </li>
          </ul>
        </div>
        <div class="card comp-card padding-18" data-group="pm">
          <h3 class="comp-header">
            Principiante Masculino
          </h3>
          <ul class="comp-list">
          >
            <li>
              <strong>Jostin</strong>
              <span class="small">(Parrita)</span>
            </li>
            <li>
              <strong>Gabriel</strong>
              <span class="small">(Preta Fit)</span>
            </li>
            <li>
              <strong>Will</strong>
              <span class="small">(Preta Fit)</span>
            </li>
            <li>
              <strong>Christian Gonz√°lez</strong>
              <span class="small">(The Kings Box Gym)</span>
            </li>
          </ul>
        </div>
        <div class="card comp-card padding-18" data-group="if">
          <h3 class="comp-header">
            Intermedio Femenino
          </h3>
          <ul class="comp-list">
          >
            <li><strong>Sol</strong> <span class="small">(Preta Fit)</span></li>
            <li>
              <strong>Sharet</strong>
              <span class="small">(Preta Fit)</span>
            </li>
            <li>
              <strong>Serena</strong>
              <span class="small">(Preta Fit)</span>
            </li>
            <li>
              <strong>Amanda</strong>
              <span class="small">(Preta Fit)</span>
            </li>
            <li>
              <strong>Alison</strong>
              <span class="small">(Box Parrita)</span>
            </li>
            <li>
              <strong>Mariam</strong>
              <span class="small">(Independiente)</span>
            </li>
            <li>
              <strong>Fabiola</strong>
              <span class="small">(DukurFit)</span>
            </li>
          </ul>
        </div>
        <div class="card comp-card padding-18" data-group="im">
          <h3 class="comp-header">
            Intermedio Masculino
          </h3>
          <ul class="comp-list">
          >
            <li>
              <strong>Josue</strong>
              <span class="small">(Preta Fit)</span>
            </li>
            <li>
              <strong>Anderson</strong>
              <span class="small">(Box Parrita)</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- ================= EXHIBITION ================= -->
</BaseLayout>

<!-- ================= FAQ ================= -->



<!-- ================= SPONSORS ================= -->
<section id="patrocinadores" class="section">
  <div class="container">
    <div class="overline">Patrocinadores</div>
    <h2 class="h2">Aliados que impulsan la experiencia</h2>
    <div class="small mb-2">
      Marcas locales que respaldan el crecimiento deportivo y la comunidad.
    </div>

    <div class="team">
      <div class="card member">
        <div class="thumb">
          <Image 
            src={logoPretafit}
            alt="Preta Fit snacks" 
            width={200}
            height={150}
            quality={75}
            format="webp"
            loading="lazy"
          />
        </div>
        <div class="info">
          <b>Preta Fit</b><div class="small">Anfitri√≥n</div>
        </div>
      </div>
      <div class="card member">
        <div class="thumb">
          <Image 
            src={logoMarySol}
            alt="Mar y Sol mantequillas" 
            width={200}
            height={150}
            quality={75}
            format="webp"
            loading="lazy"
          />
        </div>
        <div class="info">
          <b>Mar y Sol</b><div class="small">Mantequillas</div>
        </div>
      </div>
      <div class="card member">
        <div class="thumb">
          <Image
            src={logoHolalola}
            alt="Holaloha comida saludable"
            width={200}
            height={150}
            quality={75}
            format="webp"
            loading="lazy"
          />
        </div>
        <div class="info">
          <b>Holaloha</b><div class="small">Comida saludable</div>
        </div>
      </div>
      <div class="card member">
        <div class="thumb">
          <Image 
            src={logoJacolife}
            alt="Jac√≥ Life suplementos deportivos y nutrici√≥n"
            width={200}
            height={150}
            quality={75}
            format="webp"
            loading="lazy"
          />
        </div>
        <div class="info">
          <b>Jac√≥ Life</b><div class="small">Suplementos</div>
        </div>
      </div>
      <div class="card member">
        <div class="thumb">
          <Image
            src={logoFarmaciaPlayaHermosa}
            alt="Farmacia Playa Hermosa salud"
            width={200}
            height={150}
            quality={75}
            format="webp"
            loading="lazy"
          />
        </div>
        <div class="info">
          <b>Farmacia Playa Hermosa</b><div class="small">Salud</div>
        </div>
      </div>
      <div class="card member">
        <div class="thumb">
          <Image
            src={logoSurfInnHermosa}
            alt="Surf Inn Hermosa hospedaje"
            width={200}
            height={150}
            quality={75}
            format="webp"
            loading="lazy"
          />
        </div>
        <div class="info">
          <b>Surf Inn Hermosa</b><div class="small">Hospedaje</div>
        </div>
      </div>
      <div class="card member">
        <div class="thumb">
          <Image
            src={logoVillaTanya}
            alt="Villa Tanya alojamiento en Jac√≥ - Hospedaje cerca de Preta Fit"
            width={200}
            height={150}
            quality={75}
            format="webp"
            loading="lazy"
          />
        </div>
        <div class="info">
          <b>Villa Tanya</b><div class="small">Alojamiento</div>
        </div>
      </div>
      <div class="card member">
        <div class="thumb">
          <Image
            src={logoVistaLosSuenos}
            alt="Vista Los Sue√±os Adventure Park entretenimiento"
            width={200}
            height={150}
            quality={75}
            format="webp"
            loading="lazy"
          />
        </div>
        <div class="info">
          <b>Vista Los Sue√±os</b><div class="small">Adventure Park</div>
        </div>
      </div>
      <div class="card member">
        <div class="thumb">
          <Image
            src={logoTropicalIceBaths}
            alt="Tropical Ice Baths recuperaci√≥n"
            width={200}
            height={150}
            quality={75}
            format="webp"
            loading="lazy"
          />
        </div>
        <div class="info">
          <b>Tropical Ice Baths</b><div class="small">Recuperaci√≥n</div>
        </div>
      </div>
      <div class="card member">
        <div class="thumb">
          <Image
            src={logoNutricionistaFiorella}
            alt="Nutricionista Fiorella Bogantes"
            width={200}
            height={150}
            quality={75}
            format="webp"
            loading="lazy"
          />
        </div>
        <div class="info">
          <b>Nutricionista Fiorella Bogantes</b><div class="small">Nutrici√≥n</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ================= AGENDA / TIMELINE ================= -->
<section id="agenda" class="section">
  <div class="container">
    <div class="overline">Agenda</div>
    <h2 class="h2">Cronograma del Evento</h2>
    <div class="small mb-2">
      Horarios confirmados para optimizar el flujo de competencia y
      experiencias.
    </div>
    <div class="timeline">
      <div class="time-block">
        <h3 class="schedule-header">
          <span class="schedule-time">7:00 PM</span>
          M√∫sica en Vivo
        </h3>
        <div class="small schedule-description">
          Ambiente musical para calentar el evento
        </div>
      </div>
      <div class="time-block">
        <h3 class="schedule-header">
          <span class="schedule-time">7:30 PM</span>
          HIT Principiantes
        </h3>
        <div class="small schedule-description">
          Primera prueba para categor√≠a principiante
        </div>
      </div>
      <div class="time-block">
        <h3 class="schedule-header">
          <span class="schedule-time">8:00 PM</span>
          HIT 1 Intermedios
        </h3>
        <div class="small schedule-description">
          Primera prueba para categor√≠a intermedio
        </div>
      </div>
      <div class="time-block">
        <h3 class="schedule-header">
          <span class="schedule-time">8:30 PM</span>
          HIT 2 Levantamientos
        </h3>
        <div class="small schedule-description">Pruebas de fuerza y t√©cnica</div>
      </div>
      <div class="time-block">
        <h3 class="schedule-header">
          <span class="schedule-time">9:00 PM</span>
          Demostraci√≥n de BJJ
        </h3>
        <div class="small schedule-description">Exhibici√≥n t√©cnica realizada por cintas negras</div>
      </div>
      <div class="time-block">
        <h3 class="schedule-header">
          <span class="schedule-time">9:20 PM</span>
          HIT 3 Principiantes
        </h3>
        <div class="small schedule-description">Prueba final categor√≠a principiante</div>
      </div>
      <div class="time-block">
        <h3 class="schedule-header">
          <span class="schedule-time">9:45 PM</span>
          HIT 3 de Intermedios
        </h3>
        <div class="small schedule-description">Prueba final categor√≠a intermedio</div>
      </div>
    </div>
  </div>
</section>
<!-- ================= FAQ ================= -->
<section id="faq" class="section">
  <div class="container text-center">
    <div class="overline">FAQ</div>
    <h2 class="h2 mb-1">
      ¬øTienes preguntas?<br />Tenemos respuestas
    </h2>
    <div class="faq-wrap">
      <details class="faq">
        <summary
          >¬øPuedo inscribirme si es mi primera competencia? <span class="small"
            >‚ü∂</span
          ></summary
        ><p>
          S√≠. La categor√≠a Principiante est√° dise√±ada para introducirte de forma
          segura y motivante al formato competitivo.
        </p>
      </details>
      <details class="faq">
        <summary
          >¬øHabr√° opci√≥n de escalar movimientos? <span class="small">‚ü∂</span
          ></summary
        ><p>
          Los WOD est√°n dise√±ados para cada categor√≠a. Principiante ya incluye
          est√°ndares accesibles; Intermedio mantiene ciertas demandas t√©cnicas.
        </p>
      </details>
      <details class="faq">
        <summary
          >¬øC√≥mo recibo confirmaci√≥n? <span class="small">‚ü∂</span></summary
        ><p>
          Tras enviar el formulario, un miembro del equipo te contactar√° por
          email o WhatsApp para completar detalles.
        </p>
      </details>
      <details class="faq">
        <summary>¬øQu√© debo llevar? <span class="small">‚ü∂</span></summary><p>
          Ropa deportiva, hidrataci√≥n, cuerda personal (si prefieres), vendas y
          buena actitud.
        </p>
      </details>
    </div>
  </div>
</section>

<Fragment slot="footer"><Footer /></Fragment>

<!-- ================= CUSTOM STYLES ================= -->
<style>
  .small {
    font-size: 15px !important;
  }
</style>

<!-- ================= LIGHTBOX ================= -->
<div
  id="lightbox"
  style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.65);z-index:30;place-items:center"
>
  <button
    id="lbClose"
    class="btn secondary"
    style="position:absolute;top:16px;right:16px">Cerrar</button
  >
  <!-- Lightbox image - kept as img tag since src is dynamically set by JavaScript -->
  <img
    id="lbImg"
    src=""
    alt=""
    style="max-width:min(1080px,92vw);max-height:86vh;border-radius:12px;border:1px solid #fff"
  />
</div>

<script>
  /* competitors filter */
  const compNav = Array.from(
    document.querySelectorAll("#competidores .cards-nav button"),
  ) as HTMLButtonElement[];
  const compCards = Array.from(
    document.querySelectorAll("#competitorCards .comp-card"),
  ) as HTMLElement[];
  compNav.forEach((btn) => {
    btn.addEventListener("click", () => {
      compNav.forEach((b) => b.classList.remove("active"));
      btn.classList.add("active");
      const key = btn.dataset?.comp;
      compCards.forEach((c) => {
        if (key === "all" || c.dataset?.group === key) {
          c.style.display = "block";
          c.classList.add("highlight-pulse");
          setTimeout(() => c.classList.remove("highlight-pulse"), 800);
        } else {
          c.style.display = "none";
        }
      });
    });
  });

  /* gallery & rules lightbox */
  const lb = document.getElementById("lightbox");
  const lbImg = document.getElementById("lbImg") as HTMLImageElement | null;
  if (lb && lbImg) {
    document.getElementById("gallery")?.addEventListener("click", (e) => {
      const target = e.target as HTMLElement | null;
      if (target && target.tagName === "IMG") {
        lbImg.src = (target as HTMLImageElement).src;
        lb.style.display = "grid";
      }
    });
    document.querySelectorAll(".rule-item").forEach((item) =>
      item.addEventListener("click", () => {
        const full = item.getAttribute("data-full");
        if (full && lbImg) {
          lbImg.src = full;
          lb.style.display = "grid";
        }
      }),
    );
    document
      .getElementById("lbClose")
      ?.addEventListener("click", () => (lb.style.display = "none"));
    lb.addEventListener("click", (e) => {
      if (e.target === lb) lb.style.display = "none";
    });
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") lb.style.display = "none";
    });
  }
</script>
